import{h as x}from"./index-CGjZRnga.js";import{u as M}from"./useMessage-Cr-_emPb.js";import{d as h,r,c as g,o as b,F as I,e as o,w as t,f as n,h as _,a as N}from"./index-CWPllbVd.js";import{u as D}from"./useForm-BAqnsleM.js";import"./env-B8mCLz8K.js";const S=p=>x.post({url:"/system/accountExist",params:{account:p}},{errorMessageMode:"none"}),Y=h({__name:"api",setup(p){const c=[{field:"field1",component:"Input",label:"字段1",colProps:{span:8},required:!0},{field:"field2",component:"Input",label:"字段2",colProps:{span:8},required:!0},{field:"id",label:"id",required:!0,defaultValue:0,component:"InputNumber",show:!1},{field:"field3",component:"DatePicker",label:"字段3",colProps:{span:8},required:!0},{field:"field4",component:"DatePicker",label:"字段4",colProps:{span:8},componentProps:{valueFormat:"YYYY-MM-DD"},rules:[{required:!0,type:"string"}]},{field:"field5",component:"Select",label:"字段5",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1",key:"1"},{label:"选项2",value:"2",key:"2"}]},rules:[{required:!0,message:"请选择",type:"string"}]},{field:"field6",component:"Input",label:"自定义校验",colProps:{span:8},rules:[{required:!0,validator:async(l,e)=>e?e==="1"?Promise.reject("值不能为1"):Promise.resolve():Promise.reject("值不能为空"),trigger:"change"}]},{field:"field7",component:"CheckboxGroup",label:"字段7",colProps:{span:8},defaultValue:[],componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]},rules:[{required:!0}]},{field:"field8",component:"RadioGroup",label:"字段8",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]},rules:[{required:!0,message:"覆盖默认生成的校验信息"}]},{field:"field9",component:"Input",label:"后端异步验证",colProps:{span:8},helpMessage:["本字段演示异步验证","本地规则：必须填写","后端规则：不能包含admin"],rules:[{required:!0,message:"请输入数据"},{validator(l,e){return new Promise((s,i)=>{S(e).then(()=>s()).catch(u=>{i(u.message||"验证失败")})})}}]}],{createMessage:m}=M(),[f,{validateFields:a,clearValidate:d,getFieldsValue:P,resetFields:v,setFieldsValue:k}]=D({labelWidth:120,schemas:c,actionColOptions:{span:24}});async function F(){try{const l=await a();console.log("passing",l)}catch(l){console.log("not passing",l)}}async function y(){d()}function C(){const l=P();m.success("values:"+JSON.stringify(l)),console.log(l)}function V(){k({field1:1111,field5:"1",field7:["1"],field33:"2020-12-12",field3:"2020-12-12"})}function q(l){console.log(l)}return(l,e)=>{const s=r("el-button"),i=r("el-col"),u=r("el-row"),w=r("PdForm");return b(),g(I,null,[o(u,null,{default:t(()=>[o(i,{span:24},{default:t(()=>[o(s,{onClick:F,class:"mr-2"},{default:t(()=>[...e[0]||(e[0]=[n(" 手动校验表单 ",-1)])]),_:1}),o(s,{onClick:y,class:"mr-2"},{default:t(()=>[...e[1]||(e[1]=[n(" 清空校验信息 ",-1)])]),_:1}),o(s,{onClick:C,class:"mr-2"},{default:t(()=>[...e[2]||(e[2]=[n(" 获取表单值 ",-1)])]),_:1}),o(s,{onClick:V,class:"mr-2"},{default:t(()=>[...e[3]||(e[3]=[n(" 设置表单值 ",-1)])]),_:1}),o(s,{onClick:_(v),class:"mr-2"},{default:t(()=>[...e[4]||(e[4]=[n(" 重置 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(i,{span:24},{default:t(()=>[o(w,{onRegister:_(f),onSubmit:q},null,8,["onRegister"])]),_:1})]),_:1})],64)}}}),B={class:"markdown-body"},A={__name:"api",setup(p,{expose:c}){return c({frontmatter:{}}),(f,a)=>{const d=r("Preview");return b(),g("div",B,[a[0]||(a[0]=N("h2",null,"表单属性使用",-1)),o(d,{"comp-name":"PdForm","demo-name":"api"},{default:t(()=>[o(Y)]),_:1})])}}};export{A as default};
