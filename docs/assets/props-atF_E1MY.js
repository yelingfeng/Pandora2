import{d as w,r as b,c as C,o as c,F as $,e as l,w as o,k as s,f as t,b as m}from"./index-CoyfXqC8.js";import{h as x}from"./index-iSDfvGdF.js";import{u as F}from"./useForm-GiurdwI0.js";import"./useMessage-C7C8dQlL.js";const A=P=>x.get({url:"/select/getDemoOptions",params:P}),D=w({__name:"props",setup(P){const u=[{id:"guangdong",label:"广东省",value:"1",key:"1"},{id:"jiangsu",label:"江苏省",value:"2",key:"2"}],g={guangdong:[{label:"珠海市",value:"1",key:"1"},{label:"深圳市",value:"2",key:"2"},{label:"广州市",value:"3",key:"3"}],jiangsu:[{label:"南京市",value:"1",key:"1"},{label:"无锡市",value:"2",key:"2"},{label:"苏州市",value:"3",key:"3"}]},p={span:8},d=[{field:"divider-basic",component:"Divider",label:"基础字段",colProps:{span:24}},{field:"field1",component:"Input",label:"字段1",colProps:p,componentProps:{placeholder:"自定义placeholder",onChange:r=>{console.log(r)}}},{field:"field2",component:"Input",label:"自定义Props属性",colProps:p,componentProps:()=>({placeholder:"字段2placeholder",onChange:r=>{console.log(r)}}),renderComponentContent:()=>({prefix:()=>"pSlot",suffix:()=>"sSlot"})},{field:"field3",component:"DatePicker",label:"日期选择",colProps:p,componentProps:{valueFormat:"YYYY-MM-DD"}},{field:"fieldTime",component:"DatePicker",label:"时间段字段",componentProps:{type:"daterange"},colProps:p},{field:"field4",component:"Select",label:"下拉框",colProps:p,componentProps:{options:[{label:"选项1",value:"1",key:"1"},{label:"选项2",value:"2",key:"2"}]}},{field:"field5",component:"CheckboxGroup",label:"字段5",colProps:p,defaultValue:[],componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}},{field:"field9",component:"Switch",label:"Switch",colProps:p},{field:"weights",component:"InputNumber",label:"权重",colProps:p,subLabel:"( 选填 )",componentProps:{"controls-position":"right",placeholder:"请输入"}},{field:"disclosure",component:"RadioGroup",label:"目标公开",colProps:p,componentProps:{options:[{label:"公开",value:"1"},{label:"部分公开",value:"2"},{label:"不公开",value:"3"}]}},{field:"fieldSlider",component:"Slider",label:"Slider",componentProps:{min:0,max:100,range:!0,marks:{20:"20°C",60:"60°C"}},colProps:{span:8}},{field:"fieldRate",component:"Rate",label:"Rate",defaultValue:3,colProps:{span:8},componentProps:{disabled:!1,allowHalf:!0}},{field:"field11",component:"Input",label:"备注",colProps:{span:12},componentProps:{type:"textarea",rows:5}},{field:"divider-api",component:"Divider",label:"远程API",colProps:{span:24}},{field:"fieldApi",component:"ApiSelect",label:"API下拉",colProps:p,helpMessage:"API远程请求默认只会加载一次",componentProps:{api:A,params:{id:1},resultField:"list",labelField:"name",valueField:"id",immediate:!1,onChange:r=>{console.log("selected:",r)},onOptionsChange:r=>{console.log("get options",r.length,r)}}},{field:"divider-cacade",component:"Divider",label:"二级联动",helpMessage:"this is demo message test!",colProps:{span:24}},{field:"province",component:"Select",label:"省份",colProps:p,componentProps:({formModel:r,formActionType:e})=>({options:u,placeholder:"省份与城市联动",onChange:n=>{let f=n==1?g[u[0].id]:g[u[1].id];n===void 0&&(f=[]),r.city=void 0;const{updateSchema:v}=e;v({field:"city",componentProps:{options:f}})}})},{field:"city",component:"Select",label:"城市",colProps:p,componentProps:{options:[],placeholder:"省份与城市联动"}}],[k,{setProps:i}]=F({schemas:d,actionColOptions:{span:24},labelWidth:"150px",labelPosition:"right",autoSubmitOnEnter:!0,showActionButtonGroup:!0,showAdvancedButton:!1,fieldMapToTime:[["fieldTime",["startTime","endTime"],"YYYY-MM"]]}),y=r=>{console.log(r)};return(r,e)=>{const n=b("el-button"),f=b("el-col"),v=b("el-row"),S=b("PdForm");return c(),C($,null,[l(v,{type:"flex"},{default:o(()=>[l(f,{span:24},{default:o(()=>[l(n,{onClick:e[0]||(e[0]=a=>s(i)({labelWidth:130})),class:"mr-2"},{default:o(()=>[...e[15]||(e[15]=[t(" 更改labelWidth ",-1)])]),_:1}),l(n,{onClick:e[1]||(e[1]=a=>s(i)({labelWidth:150})),class:"mr-2"},{default:o(()=>[...e[16]||(e[16]=[t(" 还原labelWidth ",-1)])]),_:1}),l(n,{onClick:e[2]||(e[2]=a=>s(i)({labelPosition:"left"})),class:"mr-2"},{default:o(()=>[...e[17]||(e[17]=[t(" label居左 ",-1)])]),_:1}),l(n,{onClick:e[3]||(e[3]=a=>s(i)({labelPosition:"right"})),class:"mr-2"},{default:o(()=>[...e[18]||(e[18]=[t(" label居右 ",-1)])]),_:1}),l(n,{onClick:e[4]||(e[4]=a=>s(i)({labelPosition:"top"})),class:"mr-2"},{default:o(()=>[...e[19]||(e[19]=[t(" label居上 ",-1)])]),_:1}),l(n,{onClick:e[5]||(e[5]=a=>s(i)({size:"large"})),class:"mr-2"},{default:o(()=>[...e[20]||(e[20]=[t(" 更改Size ",-1)])]),_:1}),l(n,{onClick:e[6]||(e[6]=a=>s(i)({size:"default"})),class:"mr-2"},{default:o(()=>[...e[21]||(e[21]=[t(" 还原Size ",-1)])]),_:1}),l(n,{onClick:e[7]||(e[7]=a=>s(i)({disabled:!0})),class:"mr-2"},{default:o(()=>[...e[22]||(e[22]=[t(" 禁用表单 ",-1)])]),_:1}),l(n,{onClick:e[8]||(e[8]=a=>s(i)({disabled:!1})),class:"mr-2"},{default:o(()=>[...e[23]||(e[23]=[t(" 解除禁用 ",-1)])]),_:1}),l(n,{onClick:e[9]||(e[9]=a=>s(i)({inline:!0})),class:"mr-2"},{default:o(()=>[...e[24]||(e[24]=[t(" 内联true ",-1)])]),_:1}),l(n,{onClick:e[10]||(e[10]=a=>s(i)({inline:!1})),class:"mr-2"},{default:o(()=>[...e[25]||(e[25]=[t(" 内联false ",-1)])]),_:1}),l(n,{onClick:e[11]||(e[11]=a=>s(i)({actionColOptions:{span:8}})),class:"mr-2"},{default:o(()=>[...e[26]||(e[26]=[t(" 操作按钮位置 ",-1)])]),_:1}),l(n,{onClick:e[12]||(e[12]=a=>s(i)({actionColOptions:{span:24}})),class:"mr-2"},{default:o(()=>[...e[27]||(e[27]=[t(" 操作按钮还原 ",-1)])]),_:1}),l(n,{onClick:e[13]||(e[13]=a=>s(i)({showAdvancedButton:!0})),class:"mr-2"},{default:o(()=>[...e[28]||(e[28]=[t(" 展开按钮显示 ",-1)])]),_:1}),l(n,{onClick:e[14]||(e[14]=a=>s(i)({showAdvancedButton:!1})),class:"mr-2"},{default:o(()=>[...e[29]||(e[29]=[t(" 展开按钮隐藏 ",-1)])]),_:1})]),_:1})]),_:1}),l(v,null,{default:o(()=>[l(f,{span:24},{default:o(()=>[l(S,{onRegister:s(k),schemas:d,onSubmit:y},null,8,["onRegister"])]),_:1})]),_:1})],64)}}}),O={class:"markdown-body"},T={__name:"props",setup(P,{expose:u}){return u({frontmatter:{}}),(p,d)=>{const k=b("Preview");return c(),C("div",O,[d[0]||(d[0]=m("h2",null,"动态设置属性（setProps）",-1)),d[1]||(d[1]=m("p",null,[t("通过 "),m("code",null,"useForm()"),t(" 拿到 "),m("code",null,"setProps()"),t(" 后，可以在运行时修改表单配置（例如 label 位置、表单尺寸、禁用状态、是否显示展开按钮、操作按钮列 span 等）。")],-1)),d[2]||(d[2]=m("pre",null,[m("code",{class:"language-ts"},`const [register, { setProps }] = useForm({ schemas: [] })

setProps({
  labelWidth: 140,
  labelPosition: 'left',
  inline: true
})
`)],-1)),d[3]||(d[3]=m("h2",null,"示例：按钮驱动修改属性",-1)),l(k,{"comp-name":"PdForm","demo-name":"props"},{default:o(()=>[l(D)]),_:1})])}}};export{T as default};
