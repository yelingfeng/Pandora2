import{T as c,J as r,h as s,U as i,V as u,W as b,X as d}from"./index-BFmj-w7L.js";import{i as m}from"./env-B8mCLz8K.js";function p(n){const t=r(null),l=r(!1);async function a(){const e=s(t);return e||u("The table instance has not been obtained, please make sure that the table has been rendered when performing the table operation!"),await b(),e}return[e=>{c(()=>{t.value=null,l.value=null}),!(s(l)&&m()&&e===s(t))&&(t.value=e,l.value=!0,i(()=>n,()=>{n&&e.setProps(d(n))},{immediate:!0,deep:!0}))},{setProps:async e=>{(await a()).setProps(e)},setColumns:async e=>{(await a()).setColumns(e)},setData:async e=>{(await a()).setData(e)},reload:async e=>(await a()).reload(e),getSelectRows:()=>{const e=s(t);return e&&e.getSelectRows?e.getSelectRows()||[]:[]},clearSelection:async()=>{(await a()).clearSelection()}}]}export{p as u};
