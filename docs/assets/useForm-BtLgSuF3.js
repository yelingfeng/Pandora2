import{i as c}from"./env-B8mCLz8K.js";import{T as f,J as m,h as s,U as l,V as u,W as d,X as h}from"./index-D9CGmqOT.js";function g(o){const t=m(null),n=m(!1);async function a(){const e=s(t);return e||u("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),await d(),e}return[e=>{f(()=>{t.value=null,n.value=null}),!(s(n)&&c()&&e===s(t))&&(t.value=e,n.value=!0,l(()=>o,()=>{o&&e.setProps(h(o))},{immediate:!0,deep:!0}))},{setProps:async e=>{(await a()).setProps(e)},updateSchema:async e=>{(await a()).updateSchema(e)},resetSchema:async e=>{(await a()).resetSchema(e)},clearValidate:async e=>{(await a()).clearValidate(e)},resetFields:async()=>{a().then(async e=>{await e.resetFields()})},removeSchemaByFiled:async e=>{s(t)?.removeSchemaByFiled(e)},getFieldsValue:()=>s(t)?.getFieldsValue(),setFieldsValue:async e=>{(await a()).setFieldsValue(e)},appendSchemaByField:async(e,r,i)=>{(await a())?.appendSchemaByField(e,r,i)},submit:async()=>(await a()).submit()}]}export{g as u};
