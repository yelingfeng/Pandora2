import{i as c}from"./env-B8mCLz8K.js";import{T as l,J as i,h as s,U as f,V as d,W as u,X as h}from"./index-BMICFpJw.js";function S(o){const r=i(null),n=i(!1);async function a(){const e=s(r);return e||d("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),await u(),e}return[e=>{l(()=>{r.value=null,n.value=null}),!(s(n)&&c()&&e===s(r))&&(r.value=e,n.value=!0,f(()=>o,()=>{o&&e.setProps(h(o))},{immediate:!0,deep:!0}))},{setProps:async e=>{(await a()).setProps(e)},updateSchema:async e=>{(await a()).updateSchema(e)},resetSchema:async e=>{(await a()).resetSchema(e)},clearValidate:async e=>{(await a()).clearValidate(e)},resetFields:async()=>{a().then(async e=>{await e.resetFields()})},removeSchemaByFiled:async e=>{s(r)?.removeSchemaByFiled(e)},getFieldsValue:()=>s(r)?.getFieldsValue(),setFieldsValue:async e=>{(await a()).setFieldsValue(e)},appendSchemaByField:async(e,t,m)=>{(await a())?.appendSchemaByField(e,t,m)},submit:async()=>(await a()).submit(),validate:async e=>(await a()).validate(e),validateFields:async(e,t)=>(await a()).validateFields(e,t),scrollToField:async(e,t)=>(await a()).scrollToField(e,t)}]}export{S as u};
