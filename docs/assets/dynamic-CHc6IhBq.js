import{d as x,r as s,c as P,o as h,F as I,e,w as n,a as w,f as c,h as _}from"./index-D9CGmqOT.js";import{u as b}from"./useForm-BtLgSuF3.js";import"./env-B8mCLz8K.js";const N={class:"mb-4"},B=x({__name:"dynamic",setup(g){const i=[{field:"field1",component:"Input",label:"字段1",colProps:{span:8},show:({values:l})=>!!l.field5},{field:"field2",component:"Input",label:"字段2",colProps:{span:8},ifShow:({values:l})=>(console.log(l),!!l.field6)},{field:"field3",component:"DatePicker",label:"字段3",colProps:{span:8},dynamicDisabled:({values:l})=>!!l.field7},{field:"field4",component:"Select",label:"字段4",colProps:{span:8},dynamicRules:({values:l})=>l.field8?[{required:!0,message:"字段4必填"}]:[],componentProps:{options:[{label:"选项1",value:"1",key:"1"},{label:"选项2",value:"2",key:"2"}]}},{field:"field11",component:"DatePicker",label:"字段11",colProps:{span:8}},{field:"field5",component:"Switch",label:"是否显示字段1(css控制)",colProps:{span:8}},{field:"field6",component:"Switch",label:"是否显示字段2(dom控制)",colProps:{span:8}},{field:"field7",component:"Switch",label:"是否禁用字段3",colProps:{span:8}},{field:"field8",component:"Switch",label:"字段4是否必填",colProps:{span:8}}],f=[{field:"f1",component:"Input",label:"F1",colProps:{span:12},componentProps:({formModel:l})=>({placeholder:"同步f2的值为f1",onChange:o=>{l.f2=o.target.value}})},{field:"f2",component:"Input",label:"F2",colProps:{span:12},componentProps:{disabled:!0}},{field:"f3",component:"Input",label:"F3",colProps:{span:12},componentProps:({formActionType:l})=>({placeholder:"值改变时执行查询,查看控制台",onChange:async()=>{const{validate:o}=l,t=await o();console.log(t)}})}],[m,{updateSchema:a,appendSchemaByField:r,removeSchemaByFiled:F}]=b({labelWidth:180,schemas:i,actionColOptions:{span:24}}),[k]=b({labelWidth:180,schemas:f,actionColOptions:{span:24}});function y(){a({field:"field3",label:"字段3 New"})}function C(){a([{field:"field3",label:"字段3 New++"},{field:"field4",label:"字段4 New++"}])}function v(){r({field:"field10",label:"字段10",component:"Input",colProps:{span:8}},"field3")}function S(){F("field11")}return(l,o)=>{const t=s("el-button"),p=s("el-col"),d=s("el-row"),u=s("PdForm");return h(),P(I,null,[e(d,null,{default:n(()=>[e(p,{span:24},{default:n(()=>[w("div",N,[e(t,{onClick:y,class:"mr-2"},{default:n(()=>[...o[0]||(o[0]=[c(" 更改字段3label ",-1)])]),_:1}),e(t,{onClick:C,class:"mr-2"},{default:n(()=>[...o[1]||(o[1]=[c(" 同时更改字段3,4label ",-1)])]),_:1}),e(t,{onClick:v,class:"mr-2"},{default:n(()=>[...o[2]||(o[2]=[c(" 往字段3后面插入字段10 ",-1)])]),_:1}),e(t,{onClick:S,class:"mr-2"},{default:n(()=>[...o[3]||(o[3]=[c(" 删除字段11 ",-1)])]),_:1})])]),_:1})]),_:1}),e(d,null,{default:n(()=>[e(p,{span:24},{default:n(()=>[e(u,{onRegister:_(m)},null,8,["onRegister"])]),_:1})]),_:1}),e(d,null,{default:n(()=>[e(p,{span:24},{default:n(()=>[e(u,{onRegister:_(k)},null,8,["onRegister"])]),_:1})]),_:1})],64)}}}),R={class:"markdown-body"},O={__name:"dynamic",setup(g,{expose:i}){return i({frontmatter:{}}),(m,a)=>{const r=s("Preview");return h(),P("div",R,[a[0]||(a[0]=w("h2",null,"动态表单使用",-1)),e(r,{"comp-name":"PdForm","demo-name":"dynamic"},{default:n(()=>[e(B)]),_:1})])}}};export{O as default};
