import{h as c,i as m,j as s,k as l,U as f,n as d,V as u}from"./index-B0SowJ8y.js";function h(){return!0}function v(o){const r=m(null),n=m(!1);async function a(){const e=s(r);return e||f("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),await d(),e}return[e=>{c(()=>{r.value=null,n.value=null}),!(s(n)&&h()&&e===s(r))&&(r.value=e,n.value=!0,l(()=>o,()=>{o&&e.setProps(u(o))},{immediate:!0,deep:!0}))},{setProps:async e=>{(await a()).setProps(e)},updateSchema:async e=>{(await a()).updateSchema(e)},resetSchema:async e=>{(await a()).resetSchema(e)},clearValidate:async e=>{(await a()).clearValidate(e)},resetFields:async()=>{a().then(async e=>{await e.resetFields()})},removeSchemaByFiled:async e=>{s(r)?.removeSchemaByFiled(e)},getFieldsValue:()=>s(r)?.getFieldsValue(),setFieldsValue:async e=>{(await a()).setFieldsValue(e)},appendSchemaByField:async(e,t,i)=>{(await a())?.appendSchemaByField(e,t,i)},submit:async()=>(await a()).submit(),validate:async e=>(await a()).validate(e),validateFields:async(e,t)=>(await a()).validateFields(e,t),scrollToField:async(e,t)=>(await a()).scrollToField(e,t)}]}export{v as u};
